{"version":3,"sources":["BooksAPI.js","components/BookShelfItem.js","components/SearchPage.js","components/BookShelfList.js","components/MyReadPage.js","App.js","index.js"],"names":["api","token","localStorage","Math","random","toString","substr","headers","Accept","Authorization","update","book","shelf","fetch","id","method","body","JSON","stringify","then","res","json","BookShelfItem","title","author","bookImg","handleChange","bookShelf","className","style","width","height","backgroundImage","onChange","e","value","disabled","selected","SearchPage","books","useState","input","setInput","bookSearch","setBookSearch","handleBookShelfChange","event","bookTitle","console","log","target","timeOfChange","setTimeout","clearTimeout","to","type","filter","toLowerCase","includes","map","authors","imageLinks","thumbnail","BookShelf","MyReadPage","handleChangeRender","currentReadBooks","setCurrentReadBooks","wantToRead","setWantToRead","read","setRead","useEffect","currentRbooks","wantRead","reads","length","App","booksState","setBooksState","isChange","setIsChange","a","data","getBooks","path","element","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f9f13d34.chunk.js","sourcesContent":["const api = \"https://reactnd-books-api.udacity.com\";\r\n\r\nlet token = localStorage.token;\r\n\r\nif (!token) token = localStorage.token = Math.random().toString(36).substr(-8);\r\n\r\nconst headers = {\r\n  Accept: \"application/json\",\r\n  Authorization: token,\r\n};\r\n\r\nexport const get = (bookId) =>\r\n  fetch(`${api}/books/${bookId}`, { headers })\r\n    .then((res) => res.json())\r\n    .then((data) => data.book);\r\n\r\nexport const getAll = () =>\r\n  fetch(`${api}/books`, { headers }).then((res) =>\r\n    res.json().then((data) => data.books)\r\n  );\r\n\r\nexport const update = (book, shelf) =>\r\n  fetch(`${api}/books/${book.id}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      ...headers,\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ shelf }),\r\n  }).then((res) => res.json());\r\n\r\nexport const search = (query, maxResults) =>\r\n  fetch(`${api}/search`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      ...headers,\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ query, maxResults }),\r\n  })\r\n    .then((res) => res.json())\r\n    .then((data) => data.books);\r\n","import \"../App.css\";\r\n\r\nconst BookShelfItem = ({\r\n  title,\r\n  author,\r\n  bookImg,\r\n  handleChange,\r\n  id,\r\n  bookShelf,\r\n}) => {\r\n  const book = {\r\n    id: id,\r\n  };\r\n\r\n  return (\r\n    <li>\r\n      <div className='book'>\r\n        <div className='book-top'>\r\n          <div\r\n            className='book-cover'\r\n            style={{\r\n              width: 128,\r\n              height: 193,\r\n              backgroundImage: `url(${bookImg})`,\r\n            }}></div>\r\n          <div className='book-shelf-changer'>\r\n            <select onChange={(e) => handleChange(e, book)}>\r\n              <option value='none' disabled>\r\n                Move to...\r\n              </option>\r\n              <option\r\n                selected={bookShelf === \"currentlyReading\" ? true : false}\r\n                value='currentlyReading'>\r\n                Currently Reading\r\n              </option>\r\n              <option\r\n                selected={bookShelf === \"wantToRead\" ? true : false}\r\n                value='wantToRead'>\r\n                Want to Read\r\n              </option>\r\n              <option\r\n                selected={bookShelf === \"read\" ? true : false}\r\n                value='read'>\r\n                Read\r\n              </option>\r\n              <option value='none'>None</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div className='book-title'>{title}</div>\r\n        <div className='book-authors'>{author}</div>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default BookShelfItem;\r\n","import { Link } from \"react-router-dom\";\r\nimport { update } from \"../BooksAPI\";\r\nimport BookShelfItem from \"./BookShelfItem\";\r\nimport { useState } from \"react\";\r\n\r\nconst SearchPage = ({ books, handleChange }) => {\r\n  const [input, setInput] = useState(\"\");\r\n  const [bookSearch, setBookSearch] = useState([]);\r\n\r\n  const handleBookShelfChange = (event, bookTitle) => {\r\n    console.log(event.target.value);\r\n    update(bookTitle, event.target.value);\r\n    const timeOfChange = () => setTimeout(handleChange, 500);\r\n    timeOfChange();\r\n    clearTimeout(timeOfChange);\r\n  };\r\n  const handleSearch = (event) => {\r\n    setInput(event.target.value);\r\n    setBookSearch(\r\n      books.filter((book) => book.title.toLowerCase().includes(input))\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className='search-books'>\r\n      <div className='search-books-bar'>\r\n        <Link className='close-search' to='/'>\r\n          Close\r\n        </Link>\r\n        <div className='search-books-input-wrapper'>\r\n          <input type='text' value={input} onChange={handleSearch} />\r\n        </div>\r\n      </div>\r\n      <div className='search-books-results'>\r\n        <ol className='books-grid'>\r\n          {bookSearch.map((book) => (\r\n            <BookShelfItem\r\n              title={book.title}\r\n              author={book.authors[0]}\r\n              bookImg={book.imageLinks.thumbnail}\r\n              id={book.id}\r\n              key={book.id}\r\n              handleChange={handleBookShelfChange}\r\n              bookShelf={book.shelf}\r\n            />\r\n          ))}\r\n        </ol>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchPage;\r\n","import BookShelfItem from \"./BookShelfItem\";\r\nimport \"../App.css\";\r\n\r\nconst BookShelf = ({ title, books, handleChange }) => {\r\n  return (\r\n    <div className='bookshelf'>\r\n      <h2 className='bookshelf-title'>{title}</h2>\r\n      <div className='bookshelf-books'>\r\n        <ol className='books-grid'>\r\n          {books.map((book) => (\r\n            <BookShelfItem\r\n              title={book.title}\r\n              author={book.authors[0]}\r\n              bookImg={book.imageLinks.thumbnail}\r\n              id={book.id}\r\n              key={book.id}\r\n              handleChange={handleChange}\r\n              bookShelf={book.shelf}\r\n            />\r\n          ))}\r\n        </ol>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookShelf;\r\n","import { Link } from \"react-router-dom\";\r\nimport BookShelf from \"./BookShelfList\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { update } from \"../BooksAPI\";\r\n\r\nconst MyReadPage = ({ books, handleChangeRender }) => {\r\n  const [currentReadBooks, setCurrentReadBooks] = useState([]);\r\n  const [wantToRead, setWantToRead] = useState([]);\r\n  const [read, setRead] = useState([]);\r\n  useEffect(() => {\r\n    const currentRbooks = books.filter(\r\n      (book) => book.shelf === \"currentlyReading\"\r\n    );\r\n    setCurrentReadBooks(currentRbooks);\r\n    const wantRead = books.filter((book) => book.shelf === \"wantToRead\");\r\n    setWantToRead(wantRead);\r\n    const reads = books.filter((book) => book.shelf === \"read\");\r\n    setRead(reads);\r\n  }, [books]);\r\n\r\n  const handleBookShelfChange = (event, bookTitle) => {\r\n    console.log(event.target.value);\r\n    update(bookTitle, event.target.value);\r\n    const timeOfChange = () => setTimeout(handleChangeRender, 500);\r\n    timeOfChange();\r\n    clearTimeout(timeOfChange);\r\n  };\r\n\r\n  return (\r\n    <div className='list-books'>\r\n      <div className='list-books-title'>\r\n        <h1>MyReads</h1>\r\n      </div>\r\n      {books.length > 0 ? (\r\n        <div className='list-books-content'>\r\n          <div>\r\n            <BookShelf\r\n              title='Currently Read Books'\r\n              books={currentReadBooks}\r\n              handleChange={handleBookShelfChange}\r\n            />\r\n            <BookShelf\r\n              title='Want To Read'\r\n              books={wantToRead}\r\n              handleChange={handleBookShelfChange}\r\n            />\r\n            <BookShelf\r\n              title='Read'\r\n              books={read}\r\n              handleChange={handleBookShelfChange}\r\n            />\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <h3 className='list-books-content'>Loading Data ....</h3>\r\n      )}\r\n\r\n      <div className='open-search'>\r\n        <Link to='/search'>Add Book</Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyReadPage;\r\n","import \"./App.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Route, Routes } from \"react-router-dom\";\r\nimport SearchPage from \"./components/SearchPage\";\r\nimport MyReadPage from \"./components/MyReadPage\";\r\nimport { getAll } from \"./BooksAPI\";\r\n\r\nfunction App() {\r\n  const [booksState, setBooksState] = useState([]);\r\n  const [isChange, setIsChange] = useState(false);\r\n  const handleChange = () => {\r\n    setIsChange(true);\r\n  };\r\n  useEffect(() => {\r\n    if (booksState.length === 0 || isChange) {\r\n      const getBooks = async () => {\r\n        const books = await getAll();\r\n        setBooksState(books);\r\n      };\r\n      getBooks();\r\n      setIsChange(false);\r\n    }\r\n    if (booksState.length > 0) {\r\n      console.log(booksState);\r\n    }\r\n  }, [booksState, isChange]);\r\n  return (\r\n    <div className='app'>\r\n      <Routes>\r\n        <Route\r\n          path='/'\r\n          element={\r\n            <MyReadPage books={booksState} handleChangeRender={handleChange} />\r\n          }\r\n        />\r\n        <Route\r\n          path='/search'\r\n          element={\r\n            <SearchPage books={booksState} handleChange={handleChange} />\r\n          }\r\n        />\r\n      </Routes>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { HashRouter } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <HashRouter>\r\n      <App />\r\n    </HashRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}