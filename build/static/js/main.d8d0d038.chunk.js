(this["webpackJsonpnd0191-myreads-starter"]=this["webpackJsonpnd0191-myreads-starter"]||[]).push([[0],{22:function(e,t,n){},28:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(23),o=n.n(s),r=(n(28),n(5)),i=n.n(r),l=n(7),d=n(4),h=(n(22),n(2)),j=n(10),b=n(19),u="https://reactnd-books-api.udacity.com",O=localStorage.token;O||(O=localStorage.token=Math.random().toString(36).substr(-8));var f={Accept:"application/json",Authorization:O},x=function(e,t){return fetch("".concat(u,"/books/").concat(e.id),{method:"PUT",headers:Object(b.a)(Object(b.a)({},f),{},{"Content-Type":"application/json"}),body:JSON.stringify({shelf:t})}).then((function(e){return e.json()}))},k=n(3),v=function(e){var t=e.title,n=e.author,a=e.bookImg,c=e.handleChange,s=e.id,o=e.bookShelf,r={id:s};return Object(k.jsx)("li",{children:Object(k.jsxs)("div",{className:"book",children:[Object(k.jsxs)("div",{className:"book-top",children:[Object(k.jsx)("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:"url(".concat(a,")")}}),Object(k.jsx)("div",{className:"book-shelf-changer",children:Object(k.jsxs)("select",{onChange:function(e){return c(e,r)},children:[Object(k.jsx)("option",{value:"none",disabled:!0,children:"Move to..."}),Object(k.jsx)("option",{selected:"currentlyReading"===o,value:"currentlyReading",children:"Currently Reading"}),Object(k.jsx)("option",{selected:"wantToRead"===o,value:"wantToRead",children:"Want to Read"}),Object(k.jsx)("option",{selected:"read"===o,value:"read",children:"Read"}),Object(k.jsx)("option",{value:"none",children:"None"})]})})]}),Object(k.jsx)("div",{className:"book-title",children:t}),Object(k.jsx)("div",{className:"book-authors",children:n})]})})},m=function(e){var t=e.books,n=e.handleChange,c=Object(a.useState)(""),s=Object(d.a)(c,2),o=s[0],r=s[1],i=Object(a.useState)([]),l=Object(d.a)(i,2),h=l[0],b=l[1],u=function(e,t){console.log(e.target.value),x(t,e.target.value);var a=function(){return setTimeout(n,500)};a(),clearTimeout(a)};return Object(k.jsxs)("div",{className:"search-books",children:[Object(k.jsxs)("div",{className:"search-books-bar",children:[Object(k.jsx)(j.b,{className:"close-search",to:"/",children:"Close"}),Object(k.jsx)("div",{className:"search-books-input-wrapper",children:Object(k.jsx)("input",{type:"text",value:o,onChange:function(e){r(e.target.value),b(t.filter((function(e){return e.title.toLowerCase().includes(o)})))}})})]}),Object(k.jsx)("div",{className:"search-books-results",children:Object(k.jsx)("ol",{className:"books-grid",children:h.map((function(e){return Object(k.jsx)(v,{title:e.title,author:e.authors[0],bookImg:e.imageLinks.thumbnail,id:e.id,handleChange:u,bookShelf:e.shelf},e.id)}))})})]})},g=function(e){var t=e.title,n=e.books,a=e.handleChange;return Object(k.jsxs)("div",{className:"bookshelf",children:[Object(k.jsx)("h2",{className:"bookshelf-title",children:t}),Object(k.jsx)("div",{className:"bookshelf-books",children:Object(k.jsx)("ol",{className:"books-grid",children:n.map((function(e){return Object(k.jsx)(v,{title:e.title,author:e.authors[0],bookImg:e.imageLinks.thumbnail,id:e.id,handleChange:a,bookShelf:e.shelf},e.id)}))})})]})},p=function(e){var t=e.books,n=e.handleChangeRender,c=Object(a.useState)([]),s=Object(d.a)(c,2),o=s[0],r=s[1],i=Object(a.useState)([]),l=Object(d.a)(i,2),h=l[0],b=l[1],u=Object(a.useState)([]),O=Object(d.a)(u,2),f=O[0],v=O[1];Object(a.useEffect)((function(){var e=t.filter((function(e){return"currentlyReading"===e.shelf}));r(e);var n=t.filter((function(e){return"wantToRead"===e.shelf}));b(n);var a=t.filter((function(e){return"read"===e.shelf}));v(a)}),[t]);var m=function(e,t){console.log(e.target.value),x(t,e.target.value);var a=function(){return setTimeout(n,500)};a(),clearTimeout(a)};return Object(k.jsxs)("div",{className:"list-books",children:[Object(k.jsx)("div",{className:"list-books-title",children:Object(k.jsx)("h1",{children:"MyReads"})}),t.length>0?Object(k.jsx)("div",{className:"list-books-content",children:Object(k.jsxs)("div",{children:[Object(k.jsx)(g,{title:"Currently Read Books",books:o,handleChange:m}),Object(k.jsx)(g,{title:"Want To Read",books:h,handleChange:m}),Object(k.jsx)(g,{title:"Read",books:f,handleChange:m})]})}):Object(k.jsx)("h3",{className:"list-books-content",children:"Loading Data ...."}),Object(k.jsx)("div",{className:"open-search",children:Object(k.jsx)(j.b,{to:"/search",children:"Add Book"})})]})};var N=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),o=Object(d.a)(s,2),r=o[0],j=o[1],b=function(){j(!0)};return Object(a.useEffect)((function(){(0===n.length||r)&&(function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(u,"/books"),{headers:f}).then((function(e){return e.json().then((function(e){return e.books}))}));case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),j(!1));n.length>0&&console.log(n)}),[n,r]),Object(k.jsx)("div",{className:"app",children:Object(k.jsxs)(h.c,{children:[Object(k.jsx)(h.a,{path:"/",element:Object(k.jsx)(p,{books:n,handleChangeRender:b})}),Object(k.jsx)(h.a,{path:"/search",element:Object(k.jsx)(m,{books:n,handleChange:b})})]})})};o.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(j.a,{children:Object(k.jsx)(N,{})})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.d8d0d038.chunk.js.map